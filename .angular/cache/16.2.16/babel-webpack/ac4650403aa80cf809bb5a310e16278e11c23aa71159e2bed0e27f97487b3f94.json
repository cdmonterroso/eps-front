{"ast":null,"code":"export function initializeKeycloak(keycloak) {\n  return () => {\n    return keycloak.init({\n      config: {\n        url: 'http://localhost:8080',\n        realm: 'ddo',\n        clientId: 'cliente_nodejs' // ID de tu cliente registrado en Keycloak\n      },\n\n      initOptions: {\n        onLoad: 'login-required',\n        checkLoginIframe: false // Revisa la sesión activa en el iframe\n      },\n\n      enableBearerInterceptor: true,\n      bearerPrefix: 'Bearer',\n      bearerExcludedUrls: ['/assets'] // URLs excluidas del token\n    }).then(() => {\n      console.log('Keycloak inicializado correctamente');\n      return true;\n    }).catch(error => {\n      console.error('Error al inicializar Keycloak:', error);\n      return false;\n    });\n  };\n}\n/*export function initializeKeycloak(keycloak: KeycloakService): () => Promise<any> {\n  return (): Promise<any> => {\n    return keycloak.init({\n        config: {\n          url: 'http://localhost:8080/', // URL de tu servidor Keycloak\n          realm: 'ddo',                 // Nombre de tu realm\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\n        },\n        initOptions: {\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\n          checkLoginIframe: false,          // Revisa la sesión activa en el iframe\n          //True: Utiliza SSO con otras aplicaciones\n\n          //silentCheckSsoRedirectUri: window.location.origin + '/assets/silent-check-sso.html',\n        }\n      })\n      .then(() => {\n        console.log('Keycloak inicializado correctamente');\n        return true;\n      })\n      .catch((error) => {\n        console.error('Error al inicializar Keycloak:', error);\n        return false;\n      });\n  };\n}*/\n/*export function initializeKeycloak(keycloak: KeycloakService) {\n  return () =>\n    keycloak.init({\n      config: {\n        url: 'http://localhost:8080/',\n        realm: 'ddo',\n        clientId: 'cliente_nodejs',\n      },\n      enableBearerInterceptor: true,\n      bearerPrefix: 'Bearer',\n      bearerExcludedUrls: ['/assets'],\n      initOptions: {\n        onLoad: 'login-required',\n        //onLoad: 'check-sso',\n        silentCheckSsoRedirectUri:\n          window.location.origin + '/assets/silent-check-sso.html',\n      },\n    });\n}*/","map":{"version":3,"names":["initializeKeycloak","keycloak","init","config","url","realm","clientId","initOptions","onLoad","checkLoginIframe","enableBearerInterceptor","bearerPrefix","bearerExcludedUrls","then","console","log","catch","error"],"sources":["D:\\Users\\Daniel\\Documents\\EPS\\Proyecto\\front\\src\\keycloak-init.ts"],"sourcesContent":["import Keycloak from 'keycloak-js';\r\nimport { KeycloakService } from 'keycloak-angular';\r\n\r\nexport function initializeKeycloak(keycloak: KeycloakService): () => Promise<any> {\r\n  return (): Promise<any> => {\r\n    return keycloak\r\n      .init({\r\n        config: {\r\n          url: 'http://localhost:8080', // URL de tu servidor Keycloak\r\n          realm: 'ddo',                 // Nombre de tu realm\r\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\r\n        },\r\n        initOptions: {\r\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\r\n          checkLoginIframe: false,          // Revisa la sesión activa en el iframe\r\n        },\r\n        enableBearerInterceptor: true,      // Interceptor para añadir el token a las solicitudes HTTP\r\n        bearerPrefix: 'Bearer',\r\n        bearerExcludedUrls: ['/assets'],    // URLs excluidas del token\r\n      })\r\n      .then(() => {\r\n        console.log('Keycloak inicializado correctamente');\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al inicializar Keycloak:', error);\r\n        return false;\r\n      });\r\n  };\r\n}\r\n\r\n/*export function initializeKeycloak(keycloak: KeycloakService): () => Promise<any> {\r\n  return (): Promise<any> => {\r\n    return keycloak.init({\r\n        config: {\r\n          url: 'http://localhost:8080/', // URL de tu servidor Keycloak\r\n          realm: 'ddo',                 // Nombre de tu realm\r\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\r\n        },\r\n        initOptions: {\r\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\r\n          checkLoginIframe: false,          // Revisa la sesión activa en el iframe\r\n          //True: Utiliza SSO con otras aplicaciones\r\n\r\n          //silentCheckSsoRedirectUri: window.location.origin + '/assets/silent-check-sso.html',\r\n        }  \r\n      }) \r\n      .then(() => {\r\n        console.log('Keycloak inicializado correctamente');\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al inicializar Keycloak:', error);\r\n        return false;\r\n      });\r\n  };\r\n}*/\r\n\r\n/*export function initializeKeycloak(keycloak: KeycloakService) {\r\n  return () =>\r\n    keycloak.init({\r\n      config: {\r\n        url: 'http://localhost:8080/',\r\n        realm: 'ddo',\r\n        clientId: 'cliente_nodejs',\r\n      },\r\n      enableBearerInterceptor: true,\r\n      bearerPrefix: 'Bearer',\r\n      bearerExcludedUrls: ['/assets'],\r\n      initOptions: {\r\n        onLoad: 'login-required',\r\n        //onLoad: 'check-sso',\r\n        silentCheckSsoRedirectUri:\r\n          window.location.origin + '/assets/silent-check-sso.html',\r\n      },\r\n    });\r\n}*/"],"mappings":"AAGA,OAAM,SAAUA,kBAAkBA,CAACC,QAAyB;EAC1D,OAAO,MAAmB;IACxB,OAAOA,QAAQ,CACZC,IAAI,CAAC;MACJC,MAAM,EAAE;QACNC,GAAG,EAAE,uBAAuB;QAC5BC,KAAK,EAAE,KAAK;QACZC,QAAQ,EAAE,gBAAgB,CAAW;OACtC;;MACDC,WAAW,EAAE;QACXC,MAAM,EAAE,gBAAgB;QACxBC,gBAAgB,EAAE,KAAK,CAAW;OACnC;;MACDC,uBAAuB,EAAE,IAAI;MAC7BC,YAAY,EAAE,QAAQ;MACtBC,kBAAkB,EAAE,CAAC,SAAS,CAAC,CAAK;KACrC,CAAC,CACDC,IAAI,CAAC,MAAK;MACTC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClD,OAAO,IAAI;IACb,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAI;MACfH,OAAO,CAACG,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,OAAO,KAAK;IACd,CAAC,CAAC;EACN,CAAC;AACH;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}