{"ast":null,"code":"/*export function initializeKeycloak(keycloak: KeycloakService): () => Promise<boolean> {\n  return (): Promise<boolean> => {\n    return keycloak\n      .init({\n        config: {\n          url: 'http://localhost:8080/auth', // URL de tu servidor Keycloak\n          realm: 'ddo',                 // Nombre de tu realm\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\n        },\n        initOptions: {\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\n          checkLoginIframe: true,          // Revisa la sesión activa en el iframe\n        },\n        enableBearerInterceptor: true,      // Interceptor para añadir el token a las solicitudes HTTP\n        bearerExcludedUrls: ['/assets'],    // URLs excluidas del token\n      })\n      .then(() => {\n        console.log('Keycloak inicializado correctamente');\n        return true;\n      })\n      .catch((error) => {\n        console.error('Error al inicializar Keycloak:', error);\n        return false;\n      });\n  };\n}*/\n/*export function initializeKeycloak(keycloak: KeycloakService): () => Promise<any> {\n  return (): Promise<any> => {\n    return keycloak.init({\n        config: {\n          url: 'http://localhost:8080/', // URL de tu servidor Keycloak\n          realm: 'ddo',                 // Nombre de tu realm\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\n        },\n        initOptions: {\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\n          checkLoginIframe: false,          // Revisa la sesión activa en el iframe\n          //True: Utiliza SSO con otras aplicaciones\n\n          //silentCheckSsoRedirectUri: window.location.origin + '/assets/silent-check-sso.html',\n        }\n      })\n      .then(() => {\n        console.log('Keycloak inicializado correctamente');\n        return true;\n      })\n      .catch((error) => {\n        console.error('Error al inicializar Keycloak:', error);\n        return false;\n      });\n  };\n}*/\nexport function initializeKeycloak(keycloak) {\n  return () => keycloak.init({\n    config: {\n      url: 'http://localhost:8080/',\n      realm: 'ddo',\n      clientId: 'cliente_nodejs'\n    },\n    enableBearerInterceptor: true,\n    bearerPrefix: 'Bearer',\n    bearerExcludedUrls: ['/assets'],\n    initOptions: {\n      onLoad: 'check-sso',\n      silentCheckSsoRedirectUri: window.location.origin + '/assets/silent-check-sso.html'\n    }\n  });\n}","map":{"version":3,"names":["initializeKeycloak","keycloak","init","config","url","realm","clientId","enableBearerInterceptor","bearerPrefix","bearerExcludedUrls","initOptions","onLoad","silentCheckSsoRedirectUri","window","location","origin"],"sources":["D:\\Users\\Daniel\\Documents\\EPS\\Proyecto\\front\\src\\keycloak-init.ts"],"sourcesContent":["import Keycloak from 'keycloak-js';\r\nimport { KeycloakService } from 'keycloak-angular';\r\n\r\n/*export function initializeKeycloak(keycloak: KeycloakService): () => Promise<boolean> {\r\n  return (): Promise<boolean> => {\r\n    return keycloak\r\n      .init({\r\n        config: {\r\n          url: 'http://localhost:8080/auth', // URL de tu servidor Keycloak\r\n          realm: 'ddo',                 // Nombre de tu realm\r\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\r\n        },\r\n        initOptions: {\r\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\r\n          checkLoginIframe: true,          // Revisa la sesión activa en el iframe\r\n        },\r\n        enableBearerInterceptor: true,      // Interceptor para añadir el token a las solicitudes HTTP\r\n        bearerExcludedUrls: ['/assets'],    // URLs excluidas del token\r\n      })\r\n      .then(() => {\r\n        console.log('Keycloak inicializado correctamente');\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al inicializar Keycloak:', error);\r\n        return false;\r\n      });\r\n  };\r\n}*/\r\n\r\n/*export function initializeKeycloak(keycloak: KeycloakService): () => Promise<any> {\r\n  return (): Promise<any> => {\r\n    return keycloak.init({\r\n        config: {\r\n          url: 'http://localhost:8080/', // URL de tu servidor Keycloak\r\n          realm: 'ddo',                 // Nombre de tu realm\r\n          clientId: 'cliente_nodejs',          // ID de tu cliente registrado en Keycloak\r\n        },\r\n        initOptions: {\r\n          onLoad: 'login-required',         // Carga y fuerza el inicio de sesión\r\n          checkLoginIframe: false,          // Revisa la sesión activa en el iframe\r\n          //True: Utiliza SSO con otras aplicaciones\r\n\r\n          //silentCheckSsoRedirectUri: window.location.origin + '/assets/silent-check-sso.html',\r\n        }  \r\n      }) \r\n      .then(() => {\r\n        console.log('Keycloak inicializado correctamente');\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al inicializar Keycloak:', error);\r\n        return false;\r\n      });\r\n  };\r\n}*/\r\n\r\nexport function initializeKeycloak(keycloak: KeycloakService) {\r\n  return () =>\r\n    keycloak.init({\r\n      config: {\r\n        url: 'http://localhost:8080/',\r\n        realm: 'ddo',\r\n        clientId: 'cliente_nodejs',\r\n      },\r\n      enableBearerInterceptor: true,\r\n      bearerPrefix: 'Bearer',\r\n      bearerExcludedUrls: ['/assets'],\r\n      initOptions: {\r\n        onLoad: 'check-sso',\r\n        silentCheckSsoRedirectUri:\r\n          window.location.origin + '/assets/silent-check-sso.html',\r\n      },\r\n    });\r\n}"],"mappings":"AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAM,SAAUA,kBAAkBA,CAACC,QAAyB;EAC1D,OAAO,MACLA,QAAQ,CAACC,IAAI,CAAC;IACZC,MAAM,EAAE;MACNC,GAAG,EAAE,wBAAwB;MAC7BC,KAAK,EAAE,KAAK;MACZC,QAAQ,EAAE;KACX;IACDC,uBAAuB,EAAE,IAAI;IAC7BC,YAAY,EAAE,QAAQ;IACtBC,kBAAkB,EAAE,CAAC,SAAS,CAAC;IAC/BC,WAAW,EAAE;MACXC,MAAM,EAAE,WAAW;MACnBC,yBAAyB,EACvBC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAG;;GAE9B,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}